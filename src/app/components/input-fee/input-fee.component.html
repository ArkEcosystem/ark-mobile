<ion-item [formGroup]="parent" class="overflow-visible">
	<div
		data-testid="c-input-fee__controls"
		*ngIf="hasRange"
		slot="end"
		class="flex items-center h-full"
	>
		<ion-button
			data-testid="c-input-fee__controls__min"
			[fill]="currentFee === limitMin ? 'solid' : 'outline'"
			color="medium"
			(click)="handleClickButton(limitMin)"
			mode="ios"
		>
			{{ "INPUT_FEE.MIN" | translate }}
		</ion-button>
		<ion-button
			data-testid="c-input-fee__controls__avg"
			*ngIf="avg"
			[fill]="currentFee === avg ? 'solid' : 'outline'"
			color="medium"
			(click)="handleClickButton(avg)"
			mode="ios"
		>
			{{ "INPUT_FEE.AVG" | translate }}
		</ion-button>
		<ion-button
			data-testid="c-input-fee__controls__max"
			[fill]="currentFee === max ? 'solid' : 'outline'"
			color="medium"
			(click)="handleClickButton(max)"
			mode="ios"
		>
			{{ "INPUT_FEE.MAX" | translate }}
		</ion-button>
	</div>

	<ion-label position="floating">
		{{ "TRANSACTIONS_PAGE.FEE" | translate }}
	</ion-label>

	<input-currency
		data-testid="c-input-fee__currency"
		[isRelaxed]="true"
		[formControl]="inputControl"
		name="fee"
		(inputCurrencyUpdate)="emitUpdate($event)"
	></input-currency>

	<ion-range
		data-testid="c-input-fee__range"
		*ngIf="hasRange"
		step="1"
		[min]="limitMin"
		[max]="max"
		pin="false"
		class="absolute py-0 w-full"
		[formControl]="rangeControl"
	></ion-range>
</ion-item>

<p
	data-testid="c-input-fee__hint"
	*ngIf="isStatic && !inputControl.dirty"
	class="c-input-fee__hint c-input-fee__hint--info"
	translate
	[translateParams]="{ fee: max | unitsSatoshi }"
>
	INPUT_FEE.STATIC_FEE
</p>

<p
	*ngIf="(avg && currentFee < avg) || currentFee < min"
	class="c-input-fee__hint c-input-fee__hint--warn"
>
	{{ "INPUT_FEE.LOW_FEE_NOTICE" | translate }}
</p>

<p *ngIf="currentFee > max" class="c-input-fee__hint c-input-fee__hint--warn">
	{{ "INPUT_FEE.ADVANCED_NOTICE" | translate }}
</p>
